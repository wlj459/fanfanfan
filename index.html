<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>番番番</title>
    <script src="pixi.js"></script>
    <script src= "http://static.api.5miao.com/js/api.js" ></script>
</head>

<style>
    canvas{display:block;margin:0 auto;}
</style>

<body>
<script>
    var window_width = document.documentElement.clientWidth;
    var window_height = document.documentElement.clientHeight;
    var game_height = window_height;
    var game_width = Math.floor(window_height/1.778);
    if (game_width > window_width) {
        game_width = window_width;
        game_height = game_width * 1.778;
    }

    var stage = new PIXI.Container();


    var renderer = PIXI.autoDetectRenderer(game_width, game_height);
    document.body.appendChild(renderer.view);



        var sprite_back = PIXI.Sprite.fromImage("img/background_2x.png");
        game_ratio = game_width/750;

        sprite_back.scale.x = sprite_back.scale.y = game_ratio;
        stage.addChild(sprite_back);


        var sprite_title =  PIXI.Sprite.fromImage("img/title_2x.png");
        sprite_title.scale.x = sprite_title.scale.y = game_ratio;
        sprite_title.position.x = game_width * 0.1187;
        sprite_title.position.y = game_height * 0.1424;
        stage.addChild(sprite_title);


        var style = {
            font : '30px Arial',
            fill : '#ffffff'
        };


        var sprite_grey = PIXI.Sprite.fromImage("img/background_2_2x.png");
        sprite_grey.scale.x = sprite_grey.scale.y = game_ratio;


        var sprite_text = new PIXI.Text("进入游戏后,玩家将给定3秒钟时间记忆卡牌,倒计\n时结束后所有卡牌翻回反面.在15s内成对翻开所有\n卡牌即可通关,若在规定时间内未全部成对翻开或\n者翻到炸弹,则游戏失败.", style);
        sprite_text.scale.x = sprite_text.scale.y = game_ratio;
        sprite_text.position.x = game_width * 0.091;
        sprite_text.position.y = game_height * 0.33;






        var sprite_help_title = PIXI.Sprite.fromImage("img/title_help_2x.png");
        sprite_help_title.scale.x = sprite_help_title.scale.y = game_ratio;
        sprite_help_title.position.x = game_width * 0.331;
        sprite_help_title.position.y = game_height * 0.165;


        var sprite_help = PIXI.Sprite.fromImage("img/help_start_2x.png");
        sprite_help.interactive = true;
        sprite_help.scale.x = sprite_help.scale.y = game_ratio;
        sprite_help.position.x = game_width * 0.3467;
        sprite_help.position.y = game_height * 0.698;

        sprite_help.on('touchstart', click);
        sprite_help.on('mousedown', click);

        function click() {
            stage.addChild(sprite_back);
            stage.addChild(sprite_grey);
            stage.addChild(sprite_help_title);
            stage.addChild(sprite_text);


            var sprite_button = PIXI.Sprite.fromImage("img/button_new__2x.png");
            sprite_button.scale.x = sprite_button.scale.y = game_ratio;
            sprite_button.interactive = true;
            sprite_button.buttonMode = true;
            sprite_button.position.x = game_width * 0.367;
            sprite_button.position.y = game_height * 0.53;
            sprite_button.on("mousedown", button);
            sprite_button.on("touchstart", button);
            stage.addChild(sprite_button);

            function button() {
                window.location.href="index.html";

            }
        }

        stage.addChild(sprite_help);


        var sprite_start = n=new PIXI.Sprite.fromImage("img/startgame.png");
        sprite_start.scale.x = sprite_start.scale.y = game_ratio;
        sprite_start.position.x = game_width * 0.3453;
        sprite_start.position.y = game_height * 0.63;
        sprite_start.interactive = true;
        sprite_start.buttonMode = true;
        sprite_start.on("touchstart", start);
        sprite_start.on("mousedown", start);

        function start() {
            window.location.href="start.html";

        }
        stage.addChild(sprite_start);


        document.body.appendChild(renderer.view);
        animate();


        function animate() {

            requestAnimationFrame(animate);

            // render the root container
            renderer.render(stage);
        }


    </script>
</body>
</html>